<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Vim documentation: vital/Web/HTTP/CookieJar</title>
<meta name="Generator" content="Vim/8.2">
<meta name="plugin-version" content="vim8.1_v2">
<meta name="syntax" content="help">
<meta name="settings" content="no_progress,ignore_folding,use_css,no_foldcolumn,expand_tabs,ignore_conceal,prevent_copy=,use_input_for_pc=fallback">
<meta name="colorscheme" content="github">
<style>
<!--
.MissingTag { background-color: black; color: white; }
.EnglishTag { background-color: gray; color: white; }
pre { font-family: monospace; color: #24292e; background-color: #ffffff; }
body { font-family: monospace; color: #24292e; background-color: #ffffff; }
* { font-size: 1em; }
.PreProc { color: #d73a49; }
.String { color: #032f62; }
.helpExample { font-weight: bold; }
.Special { color: #6f42c1; }
.Ignore { color: #babbbc; background-color: #ffffff; padding-bottom: 1px; }
.Statement { color: #d73a49; }
-->
</style>
</head>
<body>

<a name="top"></a><h1>Vim documentation: vital/Web/HTTP/CookieJar</h1>
<a href="./../../../index.html">main help file</a>
<hr>
<pre id='vimCodeElement'>
<a class="String" href="./../../../vital/Web/HTTP/CookieJar.html" name="vital/Web/HTTP/CookieJar.txt">vital/Web/HTTP/CookieJar.txt</a>  Manage collection of HTTP Cookie.

Maintainer: thinca &lt;thinca+vim@gmail.com&gt;

<span class="PreProc">==============================================================================</span>
<span class="Statement">CONTENTS</span>                <a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-contents" name="Vital.Web.HTTP.CookieJar-contents">Vital.Web.HTTP.CookieJar-contents</a>

INTRODUCTION                    <a class="Identifier" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-introduction">Vital.Web.HTTP.CookieJar-introduction</a>
INTERFACE                       <a class="Identifier" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-interface">Vital.Web.HTTP.CookieJar-interface</a>
  FUNCTIONS                       <a class="Identifier" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-functions">Vital.Web.HTTP.CookieJar-functions</a>
OBJECTS                         <a class="Identifier" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-objects">Vital.Web.HTTP.CookieJar-objects</a>
  Jar                             <a class="Identifier" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-Jar">Vital.Web.HTTP.CookieJar-Jar</a>



<span class="PreProc">==============================================================================</span>
<span class="Statement">INTRODUCTION</span>            <a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-introduction" name="Vital.Web.HTTP.CookieJar-introduction">Vital.Web.HTTP.CookieJar-introduction</a>

<a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar" name="Vital.Web.HTTP.CookieJar">Vital.Web.HTTP.CookieJar</a> manages collection of
Cookie(<a class="Identifier" href="./../../../vital/Web/HTTP/Cookie.html#Vital.Web.HTTP.Cookie">Vital.Web.HTTP.Cookie</a>).


<span class="helpExample">        let s:V = vital#{plugin-name}#new()</span>
<span class="helpExample">        let HTTP = s:V.import('Web.HTTP')</span>
<span class="helpExample">        let Jar = s:V.import('Web.HTTP.CookieJar')</span>

<span class="helpExample">        let url = '<a href="http://httpbin.org/cookies/set?k2=v2&amp;k1=v1">http://httpbin.org/cookies/set?k2=v2&amp;k1=v1</a>'</span>
<span class="helpExample">        let response = HTTP.get(url)</span>
<span class="helpExample">        let jar = Jar.new()</span>
<span class="helpExample">        call jar.add_from_headers(response.allHeaders, url)</span>
<span class="helpExample">        echo sort(map(jar.get_all(), 'v:val.name() . &quot;=&quot; . v:val.value()'))</span>
<span class="helpExample">        &quot; =&gt; ['k1=v1', 'k2=v2']</span>


This library does not treat &quot;public suffix&quot;(<span class="String"><a href="https://publicsuffix.org/">https://publicsuffix.org/</a></span>).


<span class="PreProc">==============================================================================</span>
<span class="Statement">INTERFACE</span>               <a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-interface" name="Vital.Web.HTTP.CookieJar-interface">Vital.Web.HTTP.CookieJar-interface</a>

<span class="PreProc">------------------------------------------------------------------------------</span>
<span class="Statement">FUNCTIONS</span>               <a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-functions" name="Vital.Web.HTTP.CookieJar-functions">Vital.Web.HTTP.CookieJar-functions</a>

new([<span class="Special">{data}</span>])           <a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar.new()" name="Vital.Web.HTTP.CookieJar.new()">Vital.Web.HTTP.CookieJar.new()</a>
        Creates a new <a class="Identifier" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-Jar">Vital.Web.HTTP.CookieJar-Jar</a> object.
        When <span class="Special">{data}</span> is supplied, Jar object is restored from <span class="Special">{data}</span>.
        <span class="Special">{data}</span> is created by <a class="Identifier" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-Jar.export()">Vital.Web.HTTP.CookieJar-Jar.export()</a>.

                        <a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar.build_http_header()" name="Vital.Web.HTTP.CookieJar.build_http_header()">Vital.Web.HTTP.CookieJar.build_http_header()</a>
build_http_header(<span class="Special">{cookies}</span>)
        Build cookie string for &quot;Cookie:&quot; HTTP header from <span class="Special">{cookies}</span>.
        <span class="Special">{cookies}</span> is a List of Cookie object.


<span class="PreProc">==============================================================================</span>
<span class="Statement">OBJECTS</span>                 <a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-objects" name="Vital.Web.HTTP.CookieJar-objects">Vital.Web.HTTP.CookieJar-objects</a>

<span class="PreProc">------------------------------------------------------------------------------</span>
Jar                     <a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-Jar" name="Vital.Web.HTTP.CookieJar-Jar">Vital.Web.HTTP.CookieJar-Jar</a>

        Jar object has a collection of Cookie objects.

Jar.add(<span class="Special">{cookie}</span>)       <a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-Jar.add()" name="Vital.Web.HTTP.CookieJar-Jar.add()">Vital.Web.HTTP.CookieJar-Jar.add()</a>
        Adds a <span class="Special">{cookie}</span> to this jar.

Jar.add_all(<span class="Special">{cookies}</span>)  <a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-Jar.add_all()" name="Vital.Web.HTTP.CookieJar-Jar.add_all()">Vital.Web.HTTP.CookieJar-Jar.add_all()</a>
        Adds all <span class="Special">{cookies}</span> to this jar.
        <span class="Special">{cookies}</span> is a List.

                        <a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-Jar.add_from_headers()" name="Vital.Web.HTTP.CookieJar-Jar.add_from_headers()">Vital.Web.HTTP.CookieJar-Jar.add_from_headers()</a>
Jar.add_from_headers(<span class="Special">{headers}</span>, <span class="Special">{request-uri}</span>)
        Adds cookies from <span class="Special">{headers}</span>.
        <span class="Special">{headers}</span> is a <a href="https://www.google.com/search?q=vim+%22List%22&lr=lang_en"><span class="MissingTag">List</span></a> of HTTP response headers.
        This ignores all except for &quot;Set-Cookie:&quot; header.

Jar.get([<span class="Special">{condition}</span>])  <a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-Jar.get()" name="Vital.Web.HTTP.CookieJar-Jar.get()">Vital.Web.HTTP.CookieJar-Jar.get()</a>
        Returns a cookie which agrees with <span class="Special">{condition}</span>.
        Returns the first one when more than 2 being found.
        Returns empty Dictionary when not found.
        See <a class="Identifier" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-Jar.get_all()">Vital.Web.HTTP.CookieJar-Jar.get_all()</a> about <span class="Special">{condition}</span>.

                        <a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-Jar.get_all()" name="Vital.Web.HTTP.CookieJar-Jar.get_all()">Vital.Web.HTTP.CookieJar-Jar.get_all()</a>
Jar.get_all([<span class="Special">{condition}</span>])
        Returns cookies which agrees with <span class="Special">{condition}</span>.
        <span class="Special">{condition}</span> is a <a href="https://www.google.com/search?q=vim+%22Dictionary%22&lr=lang_en"><span class="MissingTag">Dictionary</span></a> which contains the following items.
        All items can omit.  An omitted condition is not used.

        &quot;url&quot;
                Matches to the URL.

        &quot;name&quot;
                Name of Cookie.

        &quot;name_pattern&quot;
                Name of Cookie by <a href="https://www.google.com/search?q=vim+%22pattern%22&lr=lang_en"><span class="MissingTag">pattern</span></a>.

        &quot;expired&quot;
                The target Cookie is expired or not.

        &quot;valid&quot;
                The target Cookie is valid or not.

                        <a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-Jar.build_http_header()" name="Vital.Web.HTTP.CookieJar-Jar.build_http_header()">Vital.Web.HTTP.CookieJar-Jar.build_http_header()</a>
Jar.build_http_header(<span class="Special">{url}</span> [, <span class="Special">{dry-run}</span>])
        Build cookie string for &quot;Cookie:&quot; HTTP header for <span class="Special">{url}</span>.
        This updates &quot;last_access_time&quot; of all selected cookies.
        When <span class="Special">{dry-run}</span> is non-zero, this does not update.

                        <a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-Jar.sweep_expired()" name="Vital.Web.HTTP.CookieJar-Jar.sweep_expired()">Vital.Web.HTTP.CookieJar-Jar.sweep_expired()</a>
Jar.sweep_expired([<span class="Special">{now}</span>])
        Removes all expired cookies.
        You can change current time to check by <span class="Special">{now}</span>.
        <span class="Special">{now}</span> is a <a class="Identifier" href="./../../../vital/DateTime.html#Vital.DateTime-DateTime">Vital.DateTime-DateTime</a> object.

Jar.clear()             <a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-Jar.clear()" name="Vital.Web.HTTP.CookieJar-Jar.clear()">Vital.Web.HTTP.CookieJar-Jar.clear()</a>
        Removes all cookies.

Jar.export([<span class="Special">{all}</span>])     <a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-Jar.export()" name="Vital.Web.HTTP.CookieJar-Jar.export()">Vital.Web.HTTP.CookieJar-Jar.export()</a>
        Exports this Jar to a Dictionary.
        This dictionary contains data only.  You can save to file.
        Normally, this does not contain non-persistent cookies.
        When <span class="Special">{all}</span> is non-zero, this contains non-persistent cookies.
        You can restore this Jar object by <a class="Identifier" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar.new()">Vital.Web.HTTP.CookieJar.new()</a>.

Jar.import(<span class="Special">{data}</span>)      <a class="String" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-Jar.import()" name="Vital.Web.HTTP.CookieJar-Jar.import()">Vital.Web.HTTP.CookieJar-Jar.import()</a>
        Imports Jar data from <span class="Special">{data}</span>.
        Cookies in existence aren't removed.
        <span class="Special">{data}</span> is created by <a class="Identifier" href="./../../../vital/Web/HTTP/CookieJar.html#Vital.Web.HTTP.CookieJar-Jar.export()">Vital.Web.HTTP.CookieJar-Jar.export()</a>.



<span class="PreProc">==============================================================================</span>
vim&#0058;tw=78:fo=tcq2mM:ts=8:ft=help:norl
</pre>
<hr>
<a href="#top">top</a> - <a href="./../../../index.html">main help file</a> - <a href="./../../../tags.html">tag index</a> <br>

</body>
</html>
<!-- vim: set foldmethod=manual : -->
